<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <style>
    .urdf { fill: #4e89e5; stroke: #2c5aa0; stroke-width: 2; rx: 10; }
    .xacro { fill: #7eb875; stroke: #4a7c47; stroke-width: 2; }
    .link { fill: #e5b060; stroke: #a0702c; stroke-width: 2; }
    .joint { fill: #c97bae; stroke: #8a4a73; stroke-width: 2; }
    .process { fill: #6aa7a7; stroke: #4a7a7a; stroke-width: 2; }
    .text { fill: white; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
    .label { fill: #333; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; }
    .arrow { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">URDF and XACRO Structure</text>

  <!-- URDF Core Components -->
  <rect x="100" y="80" width="600" height="200" fill="#f0f8ff" stroke="#ccc" stroke-width="2" />
  <text x="400" y="110" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">URDF (Unified Robot Description Format)</text>

  <!-- Links Element -->
  <rect x="130" y="140" width="180" height="60" class="link" />
  <text x="220" y="170" class="text" font-size="12">Links</text>
  <text x="220" y="185" class="text" font-size="10">(Rigid Bodies)</text>

  <!-- Joints Element -->
  <rect x="330" y="140" width="180" height="60" class="joint" />
  <text x="420" y="170" class="text" font-size="12">Joints</text>
  <text x="420" y="185" class="text" font-size="10">(Connections)</text>

  <!-- Other Elements -->
  <rect x="530" y="140" width="140" height="60" class="urdf" />
  <text x="600" y="170" class="text" font-size="12">Other</text>
  <text x="600" y="185" class="text" font-size="10">(Materials, etc.)</text>

  <!-- Link Details -->
  <rect x="130" y="220" width="180" height="100" fill="#fff0e0" stroke="#d0a070" stroke-width="1" />
  <text x="220" y="240" font-size="12" text-anchor="middle" fill="#333">Link Components:</text>
  <text x="220" y="260" font-size="10" text-anchor="middle" fill="#333">- Inertial</text>
  <text x="220" y="275" font-size="10" text-anchor="middle" fill="#333">- Visual</text>
  <text x="220" y="290" font-size="10" text-anchor="middle" fill="#333">- Collision</text>

  <!-- Joint Details -->
  <rect x="330" y="220" width="180" height="100" fill="#f0e0f0" stroke="#a070a0" stroke-width="1" />
  <text x="420" y="240" font-size="12" text-anchor="middle" fill="#333">Joint Components:</text>
  <text x="420" y="260" font-size="10" text-anchor="middle" fill="#333">- Type (revolute, etc.)</text>
  <text x="420" y="275" font-size="10" text-anchor="middle" fill="#333">- Parent/Child</text>
  <text x="420" y="290" font-size="10" text-anchor="middle" fill="#333">- Limits, Axis</text>

  <!-- XACRO Extension -->
  <rect x="100" y="340" width="600" height="150" fill="#f0fff0" stroke="#ccc" stroke-width="2" />
  <text x="400" y="370" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">XACRO (XML Macros) - URDF Enhancement</text>

  <!-- XACRO Components -->
  <rect x="150" y="400" width="150" height="50" class="xacro" />
  <text x="225" y="425" class="text" font-size="12">Properties</text>

  <rect x="325" y="400" width="150" height="50" class="xacro" />
  <text x="400" y="425" class="text" font-size="12">Macros</text>

  <rect x="500" y="400" width="150" height="50" class="xacro" />
  <text x="575" y="425" class="text" font-size="12">Math</text>

  <!-- XACRO Features -->
  <rect x="150" y="470" width="150" height="60" fill="#e0f0e0" stroke="#70a070" stroke-width="1" />
  <text x="225" y="490" font-size="10" text-anchor="middle" fill="#333">Variables &</text>
  <text x="225" y="505" font-size="10" text-anchor="middle" fill="#333">Parameters</text>

  <rect x="325" y="470" width="150" height="60" fill="#e0f0e0" stroke="#70a070" stroke-width="1" />
  <text x="400" y="490" font-size="10" text-anchor="middle" fill="#333">Reusability &</text>
  <text x="400" y="505" font-size="10" text-anchor="middle" fill="#333">Templates</text>

  <rect x="500" y="470" width="150" height="60" fill="#e0f0e0" stroke="#70a070" stroke-width="1" />
  <text x="575" y="490" font-size="10" text-anchor="middle" fill="#333">Expressions &</text>
  <text x="575" y="505" font-size="10" text-anchor="middle" fill="#333">Calculations</text>

  <!-- Process Flow -->
  <rect x="100" y="540" width="600" height="80" fill="#fff8f0" stroke="#ccc" stroke-width="2" />
  <text x="400" y="560" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">URDF/XACRO Processing Workflow</text>

  <!-- Process Steps -->
  <rect x="140" y="580" width="100" height="30" class="process" />
  <text x="190" y="595" class="text" font-size="10">XACRO</text>

  <rect x="260" y="580" width="100" height="30" class="process" />
  <text x="310" y="595" class="text" font-size="10">Process</text>

  <rect x="380" y="580" width="100" height="30" class="process" />
  <text x="430" y="595" class="text" font-size="10">URDF</text>

  <rect x="500" y="580" width="100" height="30" class="process" />
  <text x="550" y="595" class="text" font-size="10">Validate</text>

  <!-- Arrows -->
  <!-- URDF components relationship -->
  <line x1="220" y1="200" x2="220" y2="220" class="arrow" />
  <line x1="420" y1="200" x2="420" y2="220" class="arrow" />

  <!-- XACRO to features -->
  <line x1="225" y1="450" x2="225" y2="470" class="arrow" />
  <line x1="400" y1="450" x2="400" y2="470" class="arrow" />
  <line x1="575" y1="450" x2="575" y2="470" class="arrow" />

  <!-- Process flow arrows -->
  <line x1="240" y1="595" x2="260" y2="595" class="arrow" />
  <line x1="360" y1="595" x2="380" y2="595" class="arrow" />
  <line x1="480" y1="595" x2="500" y2="595" class="arrow" />

  <!-- Integration Arrow -->
  <line x1="400" y1="340" x2="400" y2="280" class="arrow" stroke-dasharray="5,5" />

  <!-- Legend -->
  <rect x="50" y="520" width="180" height="120" fill="none" stroke="#333" stroke-width="1" />
  <text x="140" y="540" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Legend</text>
  <rect x="60" y="560" width="20" height="15" class="urdf" />
  <text x="90" y="570" font-size="12" text-anchor="start" fill="#333">URDF Element</text>

  <rect x="60" y="585" width="20" height="15" class="xacro" />
  <text x="90" y="595" font-size="12" text-anchor="start" fill="#333">XACRO Feature</text>

  <rect x="60" y="610" width="20" height="15" class="link" />
  <text x="90" y="620" font-size="12" text-anchor="start" fill="#333">Link</text>

  <rect x="60" y="635" width="20" height="15" class="joint" />
  <text x="90" y="645" font-size="12" text-anchor="start" fill="#333">Joint</text>

  <rect x="60" y="660" width="20" height="15" class="process" />
  <text x="90" y="670" font-size="12" text-anchor="start" fill="#333">Process</text>

  <!-- Example Robot -->
  <text x="650" y="150" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Example Robot</text>
  <text x="650" y="170" font-size="12" text-anchor="middle" fill="#333">Differential Drive</text>

  <!-- Simple robot visualization -->
  <rect x="620" y="200" width="60" height="40" fill="#d0e0f0" stroke="#333" stroke-width="1" />
  <text x="650" y="220" font-size="8" text-anchor="middle" fill="#333">Base</text>

  <circle cx="610" cy="220" r="10" fill="#a0a0a0" stroke="#333" stroke-width="1" />
  <text x="610" y="220" font-size="8" text-anchor="middle" fill="white">L</text>

  <circle cx="690" cy="220" r="10" fill="#a0a0a0" stroke="#333" stroke-width="1" />
  <text x="690" y="220" font-size="8" text-anchor="middle" fill="white">R</text>
</svg>